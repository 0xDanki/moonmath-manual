\chapter{Introduction}
% ATTENTION! THIS IS ALL COPY PASTED FROM SOMEWHERE; SO CAN ONLY BE USED AS GUIDENCE AND NEEDS TO BE REWRITTEN

% Climate Dao whitepaper
\begin{comment}
Zero knowledge proofs are a class of cryptographic protocols in which one can prove
honest computation without revealing the inputs to that computation. A simple high-level
example of a zero-knowledge proof is the ability to prove knowledge o
without revealing the respective age. In a typical zero knowledge proof system, there
are two participants: a prover and a verifier. A prover will present a mathematical proof
of computation to a verifier to prove honest computation. The verifier will then confirm
whether the prover has performed honest computation based on predefined methods.
Zero knowledge proofs are of particular interest to public blockchain activities as the
verifier can be codified in smart contracts as opposed to trusted parties or third-party
intermediaries.

% https://docs.zkproof.org/reference.pdf

Zero-knowledge proofs (ZKPs) are an important privacy-enhancing tool from cryptography. Theyallow proving the veracity of a statement, related to confidential data, without revealing any in-formation beyond the validity of the statement. ZKPs were initially developed by the academiccommunity in the 1980s, and have seen tremendous improvements since then. They are now ofpractical feasibility in multiple domains of interest to the industry, and to a large community ofdevelopers and researchers. ZKPs can have a positive impact in industries, agencies, and for per-sonal use, by allowing privacy-preserving applications where designated private data can be madeuseful to third parties, despite not being disclosed to them. 

ZKP systems involve at least two parties: a prover and a verifier. The goal of the prover is to convince the verifier that a statement is true, without revealing any additional information. Forexample, suppose the prover holds a birth certificate digitally signed by an authority. In orderto access some service, the prover may have to prove being at least 18 years old, that is, thatthere exists a birth certificate, tied to the identify of the prover and digitally signed by a trustedcertification authority, stating a birthdate consistent with the age claim. A ZKP allows this, withoutthe prover having to reveal the birthdate.
\end{comment}

\commscomb{}{Add short description of zk-proofs}

\section{Target audience}
\begin{comment}
% copy pasted from https://claritybook.netlify.app/ch00-00-introduction.html
% need adoption to our case
This book is accessible for both beginners and experienced readers alike. Concepts are gradually introduced in a logical and steady pace. Nonetheless, the chapters lend themselves rather well to being read in a different order. More experienced developers might get the most benefit by jumping to the chapters that interest them most. If you like to learn by example, then you should go straight to the chapter on Using Clarinet.

It is assumed that you have a basic understanding of programming and the underlying logical concepts. The first chapter covers the general syntax of Clarity but it does not delve into what programming itself is all about. If this is what you are looking for, then you might have a more difficult time working through this book unless you have an (undiscovered) natural affinity for such topics. Do not let that dissuade you though, find an introductory programming book and press on! The straightforward design of Clarity makes it a great first language to pick up.

%\section{Aims and target audience}
\tbds{Sylvia: This subsection should be in the introduction of the book as it applies to the entire math part \label{intro-shift_1}}
\end{comment}
How much mathematics do you need to understand \uterm{zero-knowledge proofs}? The answer, of course, depends on the level of understanding you aim for. It is possible to describe zero-knowledge proofs without using any mathematics at all; however, to read a foundational paper like \cite{Groth16} and to understand the internals of SNARK implementations, some knowledge of mathematics is needed. 

%The goal of this chapter is therefore to enable a reader who is starting out with nothing more than basic high school algebra to be able to solve simple tasks in the mathematics underlying most zero knowledge proofs without the need of a computer.

Without a solid grounding in mathematics, someone who is interested in learning the concepts of zero-knowledge proofs, but who has never seen or dealt with, say, a prime field %\ref{prime_fields},
or an elliptic curve %\ref{chap:elliptic-curves},
may quickly become overwhelmed. This is not so much due to the complexity of the mathematics needed, but rather because of the vast amount of technical jargon, unknown terms, and obscure symbols that quickly makes a text unreadable, even though the concepts themselves are not actually that complicated. As a result, the reader might either lose interest, or pick up some incoherent bits and pieces of knowledge that, in the worst case scenario, result in immature and non-secure code. 

This is why we dedicated large parts of the book to explaining the mathematical foundations needed to understand the basic concepts underlying snark development. We encourage the reader who is not familiar with basic number theory and elliptic curves to take the time and read this and the following chapters, until they are able to solve at least a few exercises in each chapter.

%If, on the other hand, you are already skilled in elliptic curve cryptography, feel free to skip this chapter and only come back to it for reference and comparison. Maybe the most interesting parts are XXX \sme{add references}.

We start our explanations at a very basic level, and only assume pre-existing knowledge of fundamental concepts like high school integer arithmetic. We will also attempt to teach yo to ‘think mathematically’. We will show you that there are numbers and mathematical structures
that appear at first to be very different from what you learned about in high school, but - on a deeper level - are actually quite similar. This
will be illustrated in various examples throughout the book.

We want to stress, however that this introduction is informal, incomplete and optimized to enable the reader to understand zero-knowledge concepts as efficiently as possible. Our focus and design choices are to include as little theory as necessary, focusing on a wealth of numerical examples. We believe that such an informal, example-driven approach to learning mathematics may make it easier for beginners to digest the material in the initial stages. 

For instance, as a beginner, you would probably find it more beneficial to first compute a simple toy \term{SNARK} with pen and paper all the way through, before actually developing real-world production-ready systems. In addition, it's useful to have a few simple examples in your head before getting started with reading actual academic papers.

However, in order to be able to derive these toy examples, some mathematical groundwork is needed. This book therefore will help the inexperienced reader to focus on what we believe is important, accompanied by exercises that you are encouraged to recompute yourself. Every section contains a list of  exercises in increasing order of difficulty, to help you memorize and apply the concepts. 


\section{How to read this book}
Since the MoonMath Manual aims to become a complete introduction to all topics relevant for beginners, there are ways of reading it. The first and most obvious one is linear, following the order of the chapters. We recommend this if you have little pre-existing knowledge of mathematics and cryptography. We start with basic concepts like natural numbers, prime numbers, and how we can perform operations on such sets in different kinds of arithmetic. Then we move on to algebraic constructs like groups, rings, prime fields and projective planes.

Early in the book, we develop examples that we gradually extend with the things we learn in each chapter. This way, we incrementally build a few real-world SNARKs over full-fledged cryptographic systems that are nevertheless simple enough to be computed by pen and paper to illustrate all steps in great detail.

Readers who mainly want to get a better understanding of elliptic curves as they arise in zero-knowledge-based proving systems might want to start with our introduction of the $BLS6\_6$ curve in \secname{} \ref{BLS6}, which is a pen-and-paper, pairing-friendly elliptic curve. All concepts needed to understand this curve are introduced in \chaptname{} \ref{chap:elliptic-curves}. Programmers who develop real-world SNARKS frequently face the situation where it would be useful do some pen-and-paper computations before implementing the real thing. In this book, we specifically designed the $BLS6\_6$ curve for this purpose. It is a pairing friendly curve that has all the properties needed to do pairing-based computations without any computer assistance, which often helps to understand delicate details of your system. 


Readers who are primarily interested in building a simple pen-and-paper zk-SNARK and in filling in their knowledge gaps as they appear throughout the process might want to start with our 3-factorization \examplename{} \ref{ex:3-fac-groth-16-params}. In \examplename{} \ref{ex:3-factorization-r1cs} we introduce the 3-factorization problem as a statement in a formal language. If this is too abstract, the reader might start in \examplename{} \ref{ex:3-fac-zk-circuit} where we describe the 3-factorization problem as an algebraic circuit. In \chaptname{}, we introduce various levels of zero knowledge, and we show how to compute solutions. We then transform the circuit into an associated Rank-1 Constraint System in \secname{} \ref{sec:R1CS}, and transform that constraint  system into a Quadratic Arithmetic Program in \secname{} \ref{sec:QAP} and show how solutions are transformed into polynomial divisibility problems. In \examplename{} \ref{ex:3-fac-groth-16-params}, we  use the result of those examples to derive a Groth16 zk-SNARK for the 3-factorization problem. In \ref{def:groth16-crs}, we compute the prover and the verifier key. In \examplename{} \ref{3-fac-snark-compute} we compute a zk-SNARK and in \secname{} \ref{sec:groth16-verifier} we verify that zk-SNARK. In \secname{}, \ref{sec:proof_simulation} we show how to simulate proofs. 




%rest is commented out

\begin{comment}
\section{The Zoo of Zero-Knowledge Proofs}

{First, a list of zero-knowledge proof systems:

\begin{enumerate}
	\item Pinocchio (2013): \href{https://eprint.iacr.org/2013/279.pdf}{{Paper}}
	\begin{itemize}[label={--}]
		\item Notes: trusted setup
	\end{itemize}

	\item BCGTV (2013): \href{https://eprint.iacr.org/2013/507.pdf}{{Paper}}
	\begin{itemize}[label={--}]
		\item Notes: trusted setup, implementation
	\end{itemize}

	\item BCTV (2013): \href{https://eprint.iacr.org/2013/879.pdf}{{Paper}}
	\begin{itemize}[label={--}]
		\item Notes: trusted setup, implementation
	\end{itemize}

	\item Groth16 (2016): 	\href{https://eprint.iacr.org/2016/260.pdf}{Paper}
	\begin{itemize}[label={--}]
		\item Notes: trusted setup
		\item Other resources: \href{https://www.gakonst.com/zksummit2019.pdf}{Talk in 2019 by Georgios Konstantopoulos}
	\end{itemize}

	\item GM17 (207): 	\href{https://eprint.iacr.org/2017/540.pdf}{Paper}
	\begin{itemize}[label={--}]
		\item Notes: trusted setup
		\item Other resources: later \href{https://eprint.iacr.org/2018/187}{Simulation extractability in ROM, 2018}
	\end{itemize}

	\item Bulletproofs (2017): \href{https://eprint.iacr.org/2017/1066.pdf}{Paper}
	\begin{itemize}[label={--}]
		\item Notes: no trusted setup
		\item Other resources: \href{https://eprint.iacr.org/2016/263.pdf}{Polynomial Commitment Scheme on DL, 2016} and \href{https://www.iacr.org/archive/asiacrypt2010/6477178/6477178.pdf}{KZG10, Polynomial Commitment Scheme on Pairings, 2010}
	\end{itemize}

	\item Ligero (2017): \href{https://acmccs.github.io/papers/p2087-amesA.pdf}{Paper}
	\begin{itemize}[label={--}]
		\item Notes: no trusted setup
		\item Other resources: 
	\end{itemize}

	\item Hyrax (2017): \href{https://eprint.iacr.org/2017/1132.pdf}{Paper}
	\begin{itemize}[label={--}]
		\item Notes: no trusted setup
		\item Other resources: 
	\end{itemize}

	\item STARKs (2018): \href{https://eprint.iacr.org/2018/046.pdf}{Paper}
	\begin{itemize}[label={--}]
		\item Notes: no trusted setup 
		\item Other resources: 
	\end{itemize}

	\item Aurora (2018): \href{https://eprint.iacr.org/2018/828.pdf}{Paper}
	\begin{itemize}[label={--}]
		\item Notes: transparent SNARK
		\item Other resources:
	\end{itemize}

	\item Sonic (2019): \href{https://eprint.iacr.org/2019/099.pdf}{Paper}
	\begin{itemize}[label={--}]
		\item Notes: SNORK - SNARK with universal and updateable trusted setup, PCS-based
		\item Other resources: \href{https://www.benthamsgaze.org/2019/02/07/introducing-sonic-a-practical-zk-snark-with-a-nearly-trustless-setup/}{Blog post by Mary Maller from 2019} and \href{https://eprint.iacr.org/2018/280}{work on updateable and universal setup from 2018}
	\end{itemize}

	\item Libra (2019): \href{https://eprint.iacr.org/2019/317}{Paper}
	\begin{itemize}[label={--}]
		\item Notes: trusted setup
		\item Other resources:
	\end{itemize}

	\item Spartan (2019): \href{https://eprint.iacr.org/2019/550.pdf}{Paper}
	\begin{itemize}[label={--}]
		\item Notes: transparent SNARK
		\item Other resources:
	\end{itemize}

	\item PLONK (2019): \href{https://eprint.iacr.org/2019/953.pdf}{Paper}
	\begin{itemize}[label={--}]
		\item Notes: SNORK, PCS-based
		\item Other resources: \href{https://www.plonk.cafe/t/welcome-to-discussion-of-plonk-related-research/24}{Discussion on Plonk systems} and \href{https://github.com/Fluidex/awesome-plonk}{Awesome Plonk list}
	\end{itemize}

	\item Halo (2019): \href{https://eprint.iacr.org/2019/1021}{Paper}
	\begin{itemize}[label={--}]
		\item Notes: no trusted setup, PCS-based, recursive
		\item Other resources: 
	\end{itemize}

	\item Marlin (2019): \href{https://eprint.iacr.org/2019/1047.pdf}{Paper}
	\begin{itemize}[label={--}]
		\item Notes: SNORK, PCS-based
		\item Other resources: \href{https://github.com/arkworks-rs/marlin}{Rust Github}
	\end{itemize}

	\item Fractal (2019): \href{https://eprint.iacr.org/2019/1076.pdf}{Paper}
	\begin{itemize}[label={--}]
		\item Notes: Recursive, transparent SNARK
		\item Other resources: 
	\end{itemize}

	\item SuperSonic (2019): \href{https://eprint.iacr.org/2019/1229.pdf}{Paper}
	\begin{itemize}[label={--}]
		\item Notes: transparent SNARK, PCS-based
		\item Other resources: \href{https://eprint.iacr.org/2021/358}{Attack on DARK compiler in 2021}
	\end{itemize}

	\item Redshift (2019): \href{https://eprint.iacr.org/2019/1400}{Paper}
	\begin{itemize}[label={--}]
		\item Notes: SNORK, PCS-based
		\item Other resources: 
	\end{itemize}



\end{enumerate}

\textbf{Other resources on the zoo: } \href{https://github.com/matter-labs/awesome-zero-knowledge-proofs}{Awesome ZKP list on Github}, \href{https://zkp.science/}{ZKP community} with the \href{https://docs.zkproof.org/reference.pdf}{reference document}

}

\paragraph{To Do List}
\begin{itemize}
	\item Make table for prover time, verifier time, and proof size
	\item Think of categories - \textit{Achieved Goals}: Trusted setup or not, Post-quantum or not, \dots
	\item Think of categories - \textit{Mathematical background}: Polynomial commitment scheme, \dots
	\item \dots while we discuss the points above, we should also discuss a common notation/language for all these things. (E.g. transparent SNARK/no trusted setup/STARK)
\end{itemize}

\paragraph{Points to cover while writing}
\begin{itemize}
	\item Make a historical overview over the "discovery" of the different ZKP systems
	\item Make reader understand what paper is build on what result etc. - the tree of publications!
	\item Make reader understand the different terminology, e.g. SNARK/SNORK/STARK, PCS, R1CS, updateable, universal, $\dots$
	\item Make reader understand the mathematical assumptions - and what this means for the zoo.
	\item Where will the development/evolution go? What are bottlenecks?
\end{itemize}

\vspace*{1em}
{\footnotesize
\hspace*{-1em}\textbf{Other topics I fell into while compiling this list}
\begin{itemize}
	\item Vector commitments: \url{https://eprint.iacr.org/2020/527.pdf}
	\item Snarkl: \url{http://ace.cs.ohio.edu/~gstewart/papers/snaarkl.pdf}
	\item Virgo?: \url{https://people.eecs.berkeley.edu/~kubitron/courses/cs262a-F19/projects/reports/project5_report_ver2.pdf}
\end{itemize} 
}

\end{comment}

